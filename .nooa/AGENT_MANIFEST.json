{
  "generated": "2026-02-05T21:29:51.705Z",
  "version": "1.0.0",
  "features": [
    {
      "name": "commit",
      "version": "1.0.0",
      "description": "Commit staged changes with validation",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"commit\">\n  <purpose>Commit staged changes with validation</purpose>\n  <usage>\n    <cli>nooa commit -m &lt;message&gt; [flags]</cli>\n    <sdk>await commit.run({ message: \"feat: x\" })</sdk>\n    <tui>CommitConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"message\" type=\"string\" required=\"true\" />\n      <field name=\"no-test\" type=\"boolean\" required=\"false\" />\n      <field name=\"allow-lazy\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"message\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa commit -m \"feat: user authentication\"</input>\n      <output>Commit</output>\n    </example>\n    <example>\n      <input>nooa commit -m \"docs: api reference\" --allow-lazy</input>\n      <output>Commit with allow-lazy</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"commit.missing_message\">Commit message is required.</error>\n    <error code=\"commit.not_git_repo\">Not a git repository.</error>\n    <error code=\"commit.no_changes\">No changes to commit.</error>\n    <error code=\"commit.no_staged\">No staged changes.</error>\n    <error code=\"commit.policy_violation\">Zero-Pregui√ßa violations found.</error>\n    <error code=\"commit.tests_failed\">Tests failed.</error>\n    <error code=\"commit.git_failed\">Git commit failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "init",
      "version": "1.0.0",
      "description": "Initialize NOOA's Agentic Soul and Identity",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"init\">\n  <purpose>Initialize NOOA's Agentic Soul and Identity</purpose>\n  <usage>\n    <cli>nooa init [flags]</cli>\n    <sdk>await init.run({ name: \"NOOA\" })</sdk>\n    <tui>InitConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"name\" type=\"string\" required=\"false\" />\n      <field name=\"vibe\" type=\"string\" required=\"false\" />\n      <field name=\"user-name\" type=\"string\" required=\"false\" />\n      <field name=\"user-role\" type=\"string\" required=\"false\" />\n      <field name=\"working-style\" type=\"string\" required=\"false\" />\n      <field name=\"architecture\" type=\"string\" required=\"false\" />\n      <field name=\"root\" type=\"string\" required=\"false\" />\n      <field name=\"force\" type=\"boolean\" required=\"false\" />\n      <field name=\"dry-run\" type=\"boolean\" required=\"false\" />\n      <field name=\"non-interactive\" type=\"boolean\" required=\"false\" />\n      <field name=\"out\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"results\" type=\"string\" />\n      <field name=\"dryRun\" type=\"boolean\" />\n      <field name=\"name\" type=\"string\" />\n      <field name=\"vibe\" type=\"string\" />\n      <field name=\"userName\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa init</input>\n      <output>Identity initialized</output>\n    </example>\n    <example>\n      <input>nooa init --force</input>\n      <output>Overwrite identity</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"init.already_exists\">.nooa directory already exists.</error>\n    <error code=\"init.runtime_error\">Init failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "context",
      "version": "1.0.0",
      "description": "Generate AI context pack",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"context\">\n  <purpose>Generate AI context pack</purpose>\n  <usage>\n    <cli>nooa context &lt;file|symbol&gt; [flags]</cli>\n    <sdk>await context.run({ target: \"src/index.ts\" })</sdk>\n    <tui>ContextConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"target\" type=\"string\" required=\"true\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"include-mcp\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"target\" type=\"string\" />\n      <field name=\"related\" type=\"string\" />\n      <field name=\"tests\" type=\"string\" />\n      <field name=\"symbols\" type=\"string\" />\n      <field name=\"recentCommits\" type=\"string\" />\n      <field name=\"mcpResources\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa context src/index.ts</input>\n      <output>Context summary</output>\n    </example>\n    <example>\n      <input>nooa context SymbolName --json</input>\n      <output>JSON output</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"context.missing_target\">File or symbol required.</error>\n    <error code=\"context.runtime_error\">Context build failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "memory",
      "version": "1.0.0",
      "description": "Manage NOOA's persistent memory",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"memory\">\n  <purpose>Manage NOOA's persistent memory</purpose>\n  <usage>\n    <cli>nooa memory &lt;add|search|promote|get|summarize&gt; [args] [flags]</cli>\n    <sdk>await memory.run({ action: \"search\", query: \"auth\" })</sdk>\n    <tui>MemoryConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"id\" type=\"string\" required=\"false\" />\n      <field name=\"content\" type=\"string\" required=\"false\" />\n      <field name=\"query\" type=\"string\" required=\"false\" />\n      <field name=\"path\" type=\"string\" required=\"false\" />\n      <field name=\"type\" type=\"string\" required=\"false\" />\n      <field name=\"scope\" type=\"string\" required=\"false\" />\n      <field name=\"confidence\" type=\"string\" required=\"false\" />\n      <field name=\"tags\" type=\"string\" required=\"false\" />\n      <field name=\"trace-id\" type=\"string\" required=\"false\" />\n      <field name=\"semantic\" type=\"boolean\" required=\"false\" />\n      <field name=\"out\" type=\"string\" required=\"false\" />\n      <field name=\"force\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"action\" type=\"string\" />\n      <field name=\"entry\" type=\"string\" />\n      <field name=\"entries\" type=\"string\" />\n      <field name=\"id\" type=\"string\" />\n      <field name=\"path\" type=\"string\" />\n      <field name=\"message\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa memory add \"Store key insight\"</input>\n      <output>Added entry</output>\n    </example>\n    <example>\n      <input>nooa memory search \"auth\"</input>\n      <output>List entries</output>\n    </example>\n    <example>\n      <input>nooa memory promote mem_123</input>\n      <output>Promoted entry</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"memory.missing_action\">Missing subcommand.</error>\n    <error code=\"memory.missing_content\">Memory content required.</error>\n    <error code=\"memory.missing_id\">Memory ID required.</error>\n    <error code=\"memory.missing_path\">Path required.</error>\n    <error code=\"memory.missing_query\">Search query required.</error>\n    <error code=\"memory.force_required\">--force required.</error>\n    <error code=\"memory.not_found\">Memory entry not found.</error>\n    <error code=\"memory.runtime_error\">Unexpected error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "identity",
      "version": "1.0.0",
      "description": "Initialize agent identity artifacts (Legacy)",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"identity\">\n  <purpose>Initialize agent identity artifacts (Legacy)</purpose>\n  <usage>\n    <cli>nooa init [flags]</cli>\n    <sdk>await init.run({ force: false })</sdk>\n    <tui>InitConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"force\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"message\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa init</input>\n      <output>Identity initialized</output>\n    </example>\n    <example>\n      <input>nooa init --force</input>\n      <output>Overwrite identity</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"init.runtime_error\">Init failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "embed",
      "version": "1.0.0",
      "description": "Generate embeddings for text or files",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"embed\">\n  <purpose>Generate embeddings for text or files</purpose>\n  <usage>\n    <cli>nooa embed &lt;text|file&gt; &lt;input&gt; [flags]</cli>\n    <sdk>await embed.run({ action: \"text\", input: \"hello\" })</sdk>\n    <tui>EmbedConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"input\" type=\"string\" required=\"true\" />\n      <field name=\"model\" type=\"string\" required=\"false\" />\n      <field name=\"provider\" type=\"string\" required=\"false\" />\n      <field name=\"include-embedding\" type=\"boolean\" required=\"false\" />\n      <field name=\"out\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"id\" type=\"string\" />\n      <field name=\"model\" type=\"string\" />\n      <field name=\"provider\" type=\"string\" />\n      <field name=\"dimensions\" type=\"number\" />\n      <field name=\"input\" type=\"string\" />\n      <field name=\"embedding\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa embed text \"hello\"</input>\n      <output>Embedding output</output>\n    </example>\n    <example>\n      <input>nooa embed file README.md</input>\n      <output>Embedding output</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"embed.missing_action\">Action (text/file) is required.</error>\n    <error code=\"embed.missing_text\">Text is required.</error>\n    <error code=\"embed.missing_path\">File path is required.</error>\n    <error code=\"embed.unknown_action\">Unknown embed action.</error>\n    <error code=\"embed.read_failed\">Failed to read file.</error>\n    <error code=\"embed.runtime_error\">Embedding failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "pwd",
      "version": "1.0.0",
      "description": "Print current working directory",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"pwd\">\n  <purpose>Print current working directory</purpose>\n  <usage>\n    <cli>nooa pwd</cli>\n    <sdk>await pwd.run({})</sdk>\n    <tui>PwdLabel()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"json\" type=\"boolean\" required=\"false\" default=\"false\" since=\"1.0.0\" />\n    </input>\n\n    <output>\n      <field name=\"cwd\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa pwd</input>\n      <output>/path/to/project</output>\n    </example>\n    <example>\n      <input>nooa pwd --json</input>\n      <output>{ \"cwd\": \"/path/to/project\" }</output>\n    </example>\n  </examples>\n</instruction>"
    },
    {
      "name": "message",
      "version": "1.0.0",
      "description": "Send a message to the AI agent",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"message\">\n  <purpose>Send a message to the AI agent</purpose>\n  <usage>\n    <cli>nooa message &lt;text&gt; [flags]</cli>\n    <sdk>await message.run({ content: \"Hello\", role: \"user\" })</sdk>\n    <tui>MessageConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"content\" type=\"string\" required=\"true\" />\n      <field name=\"role\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"output\" type=\"string\" />\n      <field name=\"message\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa message \"Hello\"</input>\n      <output>Message output</output>\n    </example>\n    <example>\n      <input>nooa message \"Init\" --role system</input>\n      <output>System message</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"message.missing_text\">Message text is required.</error>\n    <error code=\"message.invalid_role\">Invalid message role.</error>\n    <error code=\"message.runtime_error\">Failed to send message.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "ask",
      "version": "1.0.0",
      "description": "Query indexed code/memory",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"ask\">\n  <purpose>Query indexed code/memory</purpose>\n  <usage>\n    <cli>nooa ask &lt;query&gt; [flags]</cli>\n    <sdk>await ask.run({ query: \"find TODOs\", limit: 5 })</sdk>\n    <tui>AskPanel()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"query\" type=\"string\" required=\"true\" />\n      <field name=\"limit\" type=\"number\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"query\" type=\"string\" />\n      <field name=\"results\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa ask \"find TODOs\"</input>\n      <output>Search results</output>\n    </example>\n    <example>\n      <input>nooa ask init --json</input>\n      <output>JSON results</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"ask.missing_query\">Query required.</error>\n    <error code=\"ask.runtime_error\">Search failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "ignore",
      "version": "1.0.0",
      "description": "Manage .nooa-ignore patterns",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"ignore\">\n  <purpose>Manage .nooa-ignore patterns</purpose>\n  <usage>\n    <cli>nooa ignore &lt;command&gt; [pattern] [paths...] [flags]</cli>\n    <sdk>await ignore.run({ action: \"list\" })</sdk>\n    <tui>IgnoreConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"pattern\" type=\"string\" required=\"false\" />\n      <field name=\"paths\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"pattern\" type=\"string\" />\n      <field name=\"patterns\" type=\"string\" />\n      <field name=\"result\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa ignore add secret.ts</input>\n      <output>Add pattern</output>\n    </example>\n    <example>\n      <input>nooa ignore list</input>\n      <output>List patterns</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"ignore.missing_command\">Subcommand required.</error>\n    <error code=\"ignore.missing_pattern\">Pattern required.</error>\n    <error code=\"ignore.missing_path\">Path required.</error>\n    <error code=\"ignore.unknown_command\">Unknown subcommand.</error>\n    <error code=\"ignore.runtime_error\">Unexpected error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "ci",
      "version": "1.0.0",
      "description": "Run local CI pipeline (test + lint + check)",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"ci\">\n  <purpose>Run local CI pipeline (test + lint + check)</purpose>\n  <usage>\n    <cli>nooa ci [flags]</cli>\n    <sdk>await ci.run({ json: true })</sdk>\n    <tui>CiConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"out\" type=\"string\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"stages\" type=\"string\" />\n      <field name=\"duration_ms\" type=\"number\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa ci</input>\n      <output>Runs CI</output>\n    </example>\n    <example>\n      <input>nooa ci --json</input>\n      <output>JSON report</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"ci.failed\">CI pipeline failed.</error>\n    <error code=\"ci.runtime_error\">CI execution failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "doctor",
      "version": "1.0.0",
      "description": "Check environment health",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"doctor\">\n  <purpose>Check environment health</purpose>\n  <usage>\n    <cli>nooa doctor [flags]</cli>\n    <sdk>await doctor.run({ json: true })</sdk>\n    <tui>DoctorConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"tools\" type=\"string\" />\n      <field name=\"duration_ms\" type=\"number\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa doctor</input>\n      <output>Environment check</output>\n    </example>\n    <example>\n      <input>nooa doctor --json</input>\n      <output>JSON report</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"doctor.failed\">One or more tools missing.</error>\n    <error code=\"doctor.runtime_error\">Execution failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "read",
      "version": "1.3.0",
      "description": "Read file contents",
      "agentDoc": "<instruction version=\"1.3.0\" name=\"read\">\n  <purpose>Read file contents</purpose>\n  <usage>\n    <cli>nooa read &lt;path&gt; [--json]</cli>\n    <sdk>await read.run({ path: \"file.txt\", json: false, basePath: \"/path/to/project\" })</sdk>\n    <tui>ReadFileDialog({ initialPath })</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"path\" type=\"string\" required=\"true\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" default=\"false\" since=\"1.1.0\" />\n      <field name=\"basePath\" type=\"string\" required=\"false\" since=\"1.3.0\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"path\" type=\"string\" />\n      <field name=\"bytes\" type=\"number\" />\n      <field name=\"content\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">File not found or read failed</code>\n    <code value=\"2\">Path required or invalid</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa read README.md</input>\n      <output>File contents to stdout</output>\n    </example>\n    <example>\n      <input>nooa read package.json --json</input>\n      <output>{ \"path\": \"package.json\", \"bytes\": 1234, \"content\": \"...\" }</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"read.missing_path\">Path required or invalid</error>\n    <error code=\"read.not_found\">File not found</error>\n    <error code=\"read.read_failed\">Read failed</error>\n    <error code=\"read.outside_root\">Path is outside basePath</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "worktree",
      "version": "1.0.0",
      "description": "Manage git worktrees for isolated development",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"worktree\">\n  <purpose>Manage git worktrees for isolated development</purpose>\n  <usage>\n    <cli>nooa worktree &lt;subcommand&gt; [args] [flags]</cli>\n    <sdk>await worktree.run({ action: \"create\", branch: \"feat/login\" })</sdk>\n    <tui>WorktreeConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"branch\" type=\"string\" required=\"false\" />\n      <field name=\"base\" type=\"string\" required=\"false\" />\n      <field name=\"no-install\" type=\"boolean\" required=\"false\" />\n      <field name=\"no-test\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"branch\" type=\"string\" />\n      <field name=\"base\" type=\"string\" />\n      <field name=\"worktree_path\" type=\"string\" />\n      <field name=\"skip_install\" type=\"boolean\" />\n      <field name=\"skip_test\" type=\"boolean\" />\n      <field name=\"entries\" type=\"string\" />\n      <field name=\"path\" type=\"string\" />\n      <field name=\"status\" type=\"string\" />\n      <field name=\"duration_ms\" type=\"number\" />\n      <field name=\"raw\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa worktree create feat/login</input>\n      <output>Worktree created</output>\n    </example>\n    <example>\n      <input>nooa worktree list --json</input>\n      <output>{ worktrees: [...] }</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"worktree.missing_action\">Subcommand is required.</error>\n    <error code=\"worktree.invalid_input\">Invalid input.</error>\n    <error code=\"worktree.runtime_error\">Runtime error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "code",
      "version": "1.0.0",
      "description": "Code operations (write, patch, diff, format, refactor)",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"code\">\n  <purpose>Code operations (write, patch, diff, format, refactor)</purpose>\n  <usage>\n    <cli>nooa code &lt;subcommand&gt; [args] [flags]</cli>\n    <sdk>await code.run({ action: \"write\", path: \"app.ts\", content: \"...\" })</sdk>\n    <tui>CodeConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"path\" type=\"string\" required=\"false\" />\n      <field name=\"instruction\" type=\"string\" required=\"false\" />\n      <field name=\"from\" type=\"string\" required=\"false\" />\n      <field name=\"content\" type=\"string\" required=\"false\" />\n      <field name=\"overwrite\" type=\"boolean\" required=\"false\" />\n      <field name=\"dry-run\" type=\"boolean\" required=\"false\" />\n      <field name=\"patch\" type=\"boolean\" required=\"false\" />\n      <field name=\"patch-from\" type=\"string\" required=\"false\" />\n      <field name=\"patchText\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"path\" type=\"string\" />\n      <field name=\"bytes\" type=\"number\" />\n      <field name=\"overwritten\" type=\"boolean\" />\n      <field name=\"dryRun\" type=\"boolean\" />\n      <field name=\"patched\" type=\"boolean\" />\n      <field name=\"output\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa code write app.ts --from template.ts</input>\n      <output>Writes file</output>\n    </example>\n    <example>\n      <input>nooa code patch app.ts --patch-from fix.patch</input>\n      <output>Patches file</output>\n    </example>\n    <example>\n      <input>nooa code diff src/</input>\n      <output>Git diff output</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"code.missing_action\">Action is required.</error>\n    <error code=\"code.missing_path\">Destination path is required.</error>\n    <error code=\"code.missing_input\">Missing input. Use --from or stdin.</error>\n    <error code=\"code.missing_patch_input\">Missing patch input. Use --patch-from or stdin.</error>\n    <error code=\"code.patch_with_from\">--patch is mutually exclusive with --from.</error>\n    <error code=\"code.format_missing_path\">Path required for format.</error>\n    <error code=\"code.refactor_missing_args\">Path and instructions required for refactor.</error>\n    <error code=\"code.runtime_error\">Runtime error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "act",
      "version": "1.0.0",
      "description": "Autonomous agent orchestrator",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"act\">\n  <purpose>Autonomous agent orchestrator</purpose>\n  <usage>\n    <cli>nooa act &lt;goal&gt; [flags]</cli>\n    <sdk>await act.run({ goal: \"Fix bugs\" })</sdk>\n    <tui>ActConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"goal\" type=\"string\" required=\"true\" />\n      <field name=\"model\" type=\"string\" required=\"false\" />\n      <field name=\"provider\" type=\"string\" required=\"false\" />\n      <field name=\"turns\" type=\"number\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"history\" type=\"string\" />\n      <field name=\"finalAnswer\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime Error</code>\n    <code value=\"2\">Validation Error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa act 'Check status'</input>\n      <output>Orchestration result</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"act.missing_goal\">Goal is required.</error>\n    <error code=\"act.max_turns_exceeded\">Goal not achieved within turn limit.</error>\n    <error code=\"act.runtime_error\">Execution failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "mcp",
      "version": "1.0.0",
      "description": "Manage MCP integrations (list, install, enable, disable, call, health)",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"mcp\">\n  <purpose>Manage MCP integrations (list, install, enable, disable, call, health)</purpose>\n  <usage>\n    <cli>nooa mcp &lt;subcommand&gt; [options]</cli>\n    <sdk>await mcp.run({ command: \"list\" })</sdk>\n    <tui>McpConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"command\" type=\"string\" required=\"true\" />\n      <field name=\"args\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"result\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa mcp list</input>\n      <output>List MCP servers</output>\n    </example>\n    <example>\n      <input>nooa mcp call filesystem read_file --path README.md</input>\n      <output>Call tool</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"mcp.missing_subcommand\">Missing subcommand.</error>\n    <error code=\"mcp.unknown_subcommand\">Unknown subcommand.</error>\n    <error code=\"mcp.runtime_error\">MCP command failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "search",
      "version": "1.0.0",
      "description": "Search files and file contents",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"search\">\n  <purpose>Search files and file contents</purpose>\n  <usage>\n    <cli>nooa search &lt;query&gt; [path] [flags]</cli>\n    <sdk>await search.run({ query: \"TODO\", root: \".\" })</sdk>\n    <tui>SearchPanel()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"query\" type=\"string\" required=\"true\" />\n      <field name=\"root\" type=\"string\" required=\"false\" />\n      <field name=\"regex\" type=\"boolean\" required=\"false\" />\n      <field name=\"case-sensitive\" type=\"boolean\" required=\"false\" />\n      <field name=\"files-only\" type=\"boolean\" required=\"false\" />\n      <field name=\"max-results\" type=\"string\" required=\"false\" />\n      <field name=\"include\" type=\"string\" required=\"false\" />\n      <field name=\"exclude\" type=\"string\" required=\"false\" />\n      <field name=\"plain\" type=\"boolean\" required=\"false\" />\n      <field name=\"no-color\" type=\"boolean\" required=\"false\" />\n      <field name=\"context\" type=\"string\" required=\"false\" />\n      <field name=\"ignore-case\" type=\"boolean\" required=\"false\" />\n      <field name=\"count\" type=\"boolean\" required=\"false\" />\n      <field name=\"hidden\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"results\" type=\"string\" />\n      <field name=\"engine\" type=\"string\" />\n      <field name=\"root\" type=\"string\" />\n      <field name=\"query\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa search \"TODO\" . --include \"*.ts\"</input>\n      <output>Matches list</output>\n    </example>\n    <example>\n      <input>nooa search \"class User\" src --json</input>\n      <output>JSON results</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"search.missing_query\">Query is required.</error>\n    <error code=\"search.invalid_max_results\">Invalid max-results.</error>\n    <error code=\"search.runtime_error\">Search failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "pr",
      "version": "1.0.0",
      "description": "Manage GitHub Pull Requests",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"pr\">\n  <purpose>Manage GitHub Pull Requests</purpose>\n  <usage>\n    <cli>nooa pr &lt;subcommand&gt; [flags]</cli>\n    <sdk>await pr.run({ action: \"list\" })</sdk>\n    <tui>PrConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"number\" type=\"number\" required=\"false\" />\n      <field name=\"title\" type=\"string\" required=\"false\" />\n      <field name=\"body\" type=\"string\" required=\"false\" />\n      <field name=\"method\" type=\"string\" required=\"false\" />\n      <field name=\"message\" type=\"string\" required=\"false\" />\n      <field name=\"repo\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"action\" type=\"string\" />\n      <field name=\"result\" type=\"string\" />\n      <field name=\"prs\" type=\"string\" />\n      <field name=\"review\" type=\"string\" />\n      <field name=\"status\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa pr list</input>\n      <output>List PRs</output>\n    </example>\n    <example>\n      <input>nooa pr review 12</input>\n      <output>Review PR</output>\n    </example>\n    <example>\n      <input>nooa pr create --title T --body B</input>\n      <output>Create PR</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"pr.missing_action\">Missing subcommand.</error>\n    <error code=\"pr.missing_number\">PR number required.</error>\n    <error code=\"pr.missing_title\">Missing --title.</error>\n    <error code=\"pr.missing_body\">Missing --body.</error>\n    <error code=\"pr.missing_comment\">Comment body required.</error>\n    <error code=\"pr.invalid_method\">Invalid merge method.</error>\n    <error code=\"pr.unknown_action\">Unknown subcommand.</error>\n    <error code=\"pr.runtime_error\">Unexpected error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "push",
      "version": "1.0.0",
      "description": "Push changes to remote repository",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"push\">\n  <purpose>Push changes to remote repository</purpose>\n  <usage>\n    <cli>nooa push [remote] [branch] [flags]</cli>\n    <sdk>await push.run({ remote: \"origin\", branch: \"main\" })</sdk>\n    <tui>PushConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"remote\" type=\"string\" required=\"false\" />\n      <field name=\"branch\" type=\"string\" required=\"false\" />\n      <field name=\"no-test\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"message\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n    <code value=\"3\">Test failure</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa push</input>\n      <output>Pushes current branch</output>\n    </example>\n    <example>\n      <input>nooa push origin feat/auth --no-test</input>\n      <output>Pushes without running tests</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"push.not_git_repo\">Not a git repository.</error>\n    <error code=\"push.dirty_tree\">Uncommitted changes detected.</error>\n    <error code=\"push.policy_violation\">Policy violations found in the project.</error>\n    <error code=\"push.tests_failed\">Tests failed.</error>\n    <error code=\"push.push_failed\">Git push failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "guardrail",
      "version": "1.0.0",
      "description": "Run guardrail profile checks on code",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"guardrail\">\n  <purpose>Run guardrail profile checks on code</purpose>\n  <usage>\n    <cli>nooa guardrail &lt;subcommand&gt; [options]</cli>\n    <sdk>await guardrail.run({ action: \"check\", profile: \"security\" })</sdk>\n    <tui>GuardrailConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"profile\" type=\"string\" required=\"false\" />\n      <field name=\"spec\" type=\"boolean\" required=\"false\" />\n      <field name=\"watch\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"deterministic\" type=\"boolean\" required=\"false\" />\n      <field name=\"force\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"report\" type=\"string\" />\n      <field name=\"profiles\" type=\"string\" />\n      <field name=\"result\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n    <code value=\"3\">Blocking findings</code>\n    <code value=\"4\">Warning findings</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa guardrail check --spec</input>\n      <output>Run guardrails</output>\n    </example>\n    <example>\n      <input>nooa guardrail list</input>\n      <output>List profiles</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"guardrail.missing_subcommand\">Missing subcommand.</error>\n    <error code=\"guardrail.invalid_subcommand\">Unknown subcommand.</error>\n    <error code=\"guardrail.missing_profile\">Profile is required.</error>\n    <error code=\"guardrail.missing_name\">Profile name required.</error>\n    <error code=\"guardrail.force_required\">--force required.</error>\n    <error code=\"guardrail.invalid_profile\">Profile invalid.</error>\n    <error code=\"guardrail.not_found\">Profile not found.</error>\n    <error code=\"guardrail.runtime_error\">Unexpected error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "prompt",
      "version": "1.0.0",
      "description": "Manage and render AI prompts",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"prompt\">\n  <purpose>Manage and render AI prompts</purpose>\n  <usage>\n    <cli>nooa prompt &lt;list|view|validate|render|create|edit|delete|publish&gt; [name] [flags]</cli>\n    <sdk>await prompt.run({ action: \"list\" })</sdk>\n    <tui>PromptConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"name\" type=\"string\" required=\"false\" />\n      <field name=\"var\" type=\"string\" required=\"false\" />\n      <field name=\"body\" type=\"string\" required=\"false\" />\n      <field name=\"description\" type=\"string\" required=\"false\" />\n      <field name=\"output\" type=\"string\" required=\"false\" />\n      <field name=\"patch\" type=\"boolean\" required=\"false\" />\n      <field name=\"level\" type=\"string\" required=\"false\" />\n      <field name=\"note\" type=\"string\" required=\"false\" />\n      <field name=\"all\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"debug-injection\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"action\" type=\"string\" />\n      <field name=\"name\" type=\"string\" />\n      <field name=\"prompts\" type=\"string\" />\n      <field name=\"prompt\" type=\"string\" />\n      <field name=\"rendered\" type=\"string\" />\n      <field name=\"version\" type=\"string\" />\n      <field name=\"results\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa prompt list</input>\n      <output>List prompts</output>\n    </example>\n    <example>\n      <input>nooa prompt view review</input>\n      <output>Prompt details</output>\n    </example>\n    <example>\n      <input>nooa prompt publish review --level patch --note note</input>\n      <output>Publish prompt</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"prompt.missing_action\">Missing subcommand.</error>\n    <error code=\"prompt.missing_name\">Prompt name required.</error>\n    <error code=\"prompt.missing_description\">Missing --description.</error>\n    <error code=\"prompt.invalid_output\">Invalid --output.</error>\n    <error code=\"prompt.missing_body\">Prompt body required.</error>\n    <error code=\"prompt.missing_patch\">Missing --patch.</error>\n    <error code=\"prompt.missing_level\">Missing --level.</error>\n    <error code=\"prompt.invalid_level\">Invalid --level.</error>\n    <error code=\"prompt.missing_note\">Missing --note.</error>\n    <error code=\"prompt.runtime_error\">Unexpected error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "ai",
      "version": "1.1.0",
      "description": "Query the AI engine",
      "agentDoc": "<instruction version=\"1.1.0\" name=\"ai\">\n  <purpose>Query the AI engine</purpose>\n  <usage>\n    <cli>nooa ai &lt;prompt&gt; [flags]</cli>\n    <sdk>await ai.run({ prompt: \"Hello\" })</sdk>\n    <tui>AiConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"prompt\" type=\"string\" required=\"true\" />\n      <field name=\"provider\" type=\"string\" required=\"false\" />\n      <field name=\"model\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"stream\" type=\"boolean\" required=\"false\" since=\"1.1.0\" />\n      <field name=\"mcp-source\" type=\"string\" required=\"false\" />\n      <field name=\"mcp-tool\" type=\"string\" required=\"false\" />\n      <field name=\"mcp-args\" type=\"string\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"content\" type=\"string\" />\n      <field name=\"provider\" type=\"string\" />\n      <field name=\"model\" type=\"string\" />\n      <field name=\"usage\" type=\"string\" />\n      <field name=\"server\" type=\"string\" />\n      <field name=\"tool\" type=\"string\" />\n      <field name=\"result\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa ai \"Who are you?\"</input>\n      <output>AI response text</output>\n    </example>\n    <example>\n      <input>nooa ai \"Tell a joke\" --json</input>\n      <output>{ ... }</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"ai.missing_prompt\">Prompt is required.</error>\n    <error code=\"ai.mcp_invalid_args\">MCP args must be valid JSON.</error>\n    <error code=\"ai.mcp_error\">Error invoking MCP tool.</error>\n    <error code=\"ai.runtime_error\">AI execution failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "review",
      "version": "1.0.0",
      "description": "Perform a code review",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"review\">\n  <purpose>Perform a code review</purpose>\n  <usage>\n    <cli>nooa review [path] [flags]</cli>\n    <sdk>await review.run({ path: \"src/index.ts\" })</sdk>\n    <tui>ReviewConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"path\" type=\"string\" required=\"false\" />\n      <field name=\"prompt\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"out\" type=\"string\" required=\"false\" />\n      <field name=\"fail-on\" type=\"string\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"content\" type=\"string\" />\n      <field name=\"result\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa review src/index.ts</input>\n      <output>Review output</output>\n    </example>\n    <example>\n      <input>nooa review --json --out review-results.json</input>\n      <output>JSON review output</output>\n    </example>\n    <example>\n      <input>nooa review --fail-on high</input>\n      <output>Exit non-zero</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"review.no_input\">No input source provided.</error>\n    <error code=\"review.not_found\">File not found.</error>\n    <error code=\"review.invalid_severity\">Invalid severity level. Use low, medium, or high.</error>\n    <error code=\"review.runtime_error\">Review failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "fix",
      "version": "1.0.0",
      "description": "Autonomous bug fix loop",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"fix\">\n  <purpose>Autonomous bug fix loop</purpose>\n  <usage>\n    <cli>nooa fix &lt;issue&gt; [flags]</cli>\n    <sdk>await fix.run({ issue: \"fix logger typo\" })</sdk>\n    <tui>FixConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"issue\" type=\"string\" required=\"true\" />\n      <field name=\"dry-run\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"stages\" type=\"string\" />\n      <field name=\"error\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa fix \"fix logger typo\"</input>\n      <output>Fix results</output>\n    </example>\n    <example>\n      <input>nooa fix \"auth flow\" --dry-run</input>\n      <output>Dry run</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"fix.missing_issue\">Issue description required.</error>\n    <error code=\"fix.runtime_error\">Fix failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "index",
      "version": "1.0.0",
      "description": "Semantic indexing operations",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"index\">\n  <purpose>Semantic indexing operations</purpose>\n  <usage>\n    <cli>nooa index [subcommand] [flags]</cli>\n    <sdk>await index.run({ action: \"repo\" })</sdk>\n    <tui>IndexConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"path\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"result\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa index repo</input>\n      <output>Index repository</output>\n    </example>\n    <example>\n      <input>nooa index file src/index.ts</input>\n      <output>Index file</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"index.missing_command\">Subcommand required.</error>\n    <error code=\"index.missing_path\">File path required.</error>\n    <error code=\"index.runtime_error\">Index operation failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "skills",
      "version": "1.0.0",
      "description": "Manage NOOA skills",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"skills\">\n  <purpose>Manage NOOA skills</purpose>\n  <usage>\n    <cli>nooa skills [subcommand] [flags]</cli>\n    <sdk>await skills.run({ action: \"list\" })</sdk>\n    <tui>SkillsPanel()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"name\" type=\"string\" required=\"false\" />\n      <field name=\"description\" type=\"string\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"skills\" type=\"string\" />\n      <field name=\"skill\" type=\"string\" />\n      <field name=\"message\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa skills list</input>\n      <output>List skills</output>\n    </example>\n    <example>\n      <input>nooa skills add my-skill \"desc\"</input>\n      <output>Create skill</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"skills.missing_action\">Action is required.</error>\n    <error code=\"skills.missing_name\">Skill name required.</error>\n    <error code=\"skills.runtime_error\">Runtime error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "eval",
      "version": "1.0.0",
      "description": "Systematic evaluation of AI prompts and outputs",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"eval\">\n  <purpose>Systematic evaluation of AI prompts and outputs</purpose>\n  <usage>\n    <cli>nooa eval &lt;command&gt; &lt;prompt_name&gt; --suite &lt;name&gt;</cli>\n    <sdk>await eval.run({ command: \"run\", promptName: \"review\", suite: \"standard\" })</sdk>\n    <tui>EvalConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"command\" type=\"string\" required=\"true\" />\n      <field name=\"promptName\" type=\"string\" required=\"true\" />\n      <field name=\"suite\" type=\"string\" required=\"true\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"baseline\" type=\"string\" required=\"false\" />\n      <field name=\"fail-on-regression\" type=\"boolean\" required=\"false\" />\n      <field name=\"bump\" type=\"string\" required=\"false\" />\n      <field name=\"judge\" type=\"string\" required=\"false\" />\n      <field name=\"limit\" type=\"string\" required=\"false\" />\n      <field name=\"base\" type=\"string\" required=\"false\" />\n      <field name=\"head\" type=\"string\" required=\"false\" />\n      <field name=\"id\" type=\"string\" required=\"false\" />\n      <field name=\"history-file\" type=\"string\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"result\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa eval run review --suite standard</input>\n      <output>Run suite</output>\n    </example>\n    <example>\n      <input>nooa eval compare review --suite standard</input>\n      <output>Compare</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"eval.missing_args\">Missing required arguments.</error>\n    <error code=\"eval.no_history\">No history entries found.</error>\n    <error code=\"eval.compare_insufficient\">Need at least two entries.</error>\n    <error code=\"eval.invalid_command\">Unknown subcommand.</error>\n    <error code=\"eval.runtime_error\">Evaluation failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "replay",
      "version": "1.0.0",
      "description": "Track agent steps as a replayable graph",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"replay\">\n  <purpose>Track agent steps as a replayable graph</purpose>\n  <usage>\n    <cli>nooa replay &lt;subcommand&gt; [args] [--json]</cli>\n    <sdk>await replay.run({ action: \"add\", label: \"A\" })</sdk>\n    <tui>ReplayDialog()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"label\" type=\"string\" required=\"false\" />\n      <field name=\"from\" type=\"string\" required=\"false\" />\n      <field name=\"to\" type=\"string\" required=\"false\" />\n      <field name=\"targetId\" type=\"string\" required=\"false\" />\n      <field name=\"id\" type=\"string\" required=\"false\" />\n      <field name=\"root\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" default=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"node\" type=\"string\" />\n      <field name=\"edge\" type=\"string\" />\n      <field name=\"summary\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa replay add A</input>\n      <output>Creates a node</output>\n    </example>\n    <example>\n      <input>nooa replay link node_a node_b</input>\n      <output>Creates an edge</output>\n    </example>\n    <example>\n      <input>nooa replay fix node_b \"Fix B\"</input>\n      <output>Creates a fix node</output>\n    </example>\n    <example>\n      <input>nooa replay show --json</input>\n      <output>{ ... }</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"replay.missing_action\">Action is required.</error>\n    <error code=\"replay.missing_input\">Input is required.</error>\n    <error code=\"replay.missing_from\">From id is required.</error>\n    <error code=\"replay.missing_to\">To id is required.</error>\n    <error code=\"replay.missing_target\">Target id is required.</error>\n    <error code=\"replay.not_found\">Node not found.</error>\n    <error code=\"replay.cycle_detected\">Cycle detected.</error>\n    <error code=\"replay.runtime_error\">Unexpected error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "run",
      "version": "1.0.0",
      "description": "Execute multiple commands in a pipeline",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"run\">\n  <purpose>Execute multiple commands in a pipeline</purpose>\n  <usage>\n    <cli>nooa run [flags] -- &lt;cmd1&gt; -- &lt;cmd2&gt; ...</cli>\n    <sdk>await run.run({ steps: [\"code write foo.ts\"] })</sdk>\n    <tui>RunPipelineConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"steps\" type=\"string\" required=\"true\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"dry-run\" type=\"boolean\" required=\"false\" />\n      <field name=\"continue-on-error\" type=\"boolean\" required=\"false\" />\n      <field name=\"capture-output\" type=\"boolean\" required=\"false\" />\n      <field name=\"allow-external\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"failedStepIndex\" type=\"number\" />\n      <field name=\"steps\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa run -- code write foo.ts -- commit -m \"feat: foo\"</input>\n      <output>Pipeline executed</output>\n    </example>\n    <example>\n      <input>nooa run \"code write foo.ts\" \"commit -m 'feat: foo'\"</input>\n      <output>Pipeline executed</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"run.missing_steps\">No commands provided.</error>\n    <error code=\"run.runtime_error\">Pipeline failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "scaffold",
      "version": "1.0.0",
      "description": "Standardize creation of new features and prompts",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"scaffold\">\n  <purpose>Standardize creation of new features and prompts</purpose>\n  <usage>\n    <cli>nooa scaffold &lt;command|prompt&gt; &lt;name&gt; [flags]</cli>\n    <sdk>await scaffold.run({ type: \"command\", name: \"my-feature\" })</sdk>\n    <tui>ScaffoldWizard()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"type\" type=\"string\" required=\"true\" />\n      <field name=\"name\" type=\"string\" required=\"true\" />\n      <field name=\"force\" type=\"boolean\" required=\"false\" />\n      <field name=\"dry-run\" type=\"boolean\" required=\"false\" />\n      <field name=\"with-docs\" type=\"boolean\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"out\" type=\"string\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"ok\" type=\"boolean\" />\n      <field name=\"traceId\" type=\"string\" />\n      <field name=\"kind\" type=\"string\" />\n      <field name=\"name\" type=\"string\" />\n      <field name=\"files\" type=\"string\" />\n      <field name=\"dryRun\" type=\"boolean\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa scaffold command authentication</input>\n      <output>Creates a feature</output>\n    </example>\n    <example>\n      <input>nooa scaffold prompt review --with-docs</input>\n      <output>Creates a prompt template</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"scaffold.invalid_args\">Missing or invalid arguments.</error>\n    <error code=\"scaffold.invalid_type\">Type must be command or prompt.</error>\n    <error code=\"scaffold.invalid_name\">Name must be kebab-case and not reserved.</error>\n    <error code=\"scaffold.already_exists\">Destination file exists.</error>\n    <error code=\"scaffold.runtime_error\">Unexpected error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "check",
      "version": "1.0.0",
      "description": "Audit code against project policies (Zero-Pregui√ßa)",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"check\">\n  <purpose>Audit code against project policies (Zero-Pregui√ßa)</purpose>\n  <usage>\n    <cli>nooa check [path] [flags]</cli>\n    <sdk>await check.run({ path: \".\" })</sdk>\n    <tui>CheckConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"path\" type=\"string\" required=\"false\" />\n      <field name=\"staged\" type=\"boolean\" required=\"false\" />\n      <field name=\"profile\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"result\" type=\"string\" />\n      <field name=\"report\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Policy violation / validation error</code>\n    <code value=\"3\">Guardrail warning</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa check</input>\n      <output>Policy check</output>\n    </example>\n    <example>\n      <input>nooa check src --json</input>\n      <output>JSON policy report</output>\n    </example>\n    <example>\n      <input>nooa check --profile .nooa/guardrails/profiles/security.yaml</input>\n      <output>Guardrail report</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"check.git_error\">Git error when reading staged files.</error>\n    <error code=\"check.policy_violation\">Policy violations found.</error>\n    <error code=\"check.guardrail_failed\">Guardrail failed.</error>\n    <error code=\"check.guardrail_warning\">Guardrail warnings.</error>\n    <error code=\"check.runtime_error\">Unexpected error.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "goal",
      "version": "1.0.0",
      "description": "Manage focus and goals",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"goal\">\n  <purpose>Manage focus and goals</purpose>\n  <usage>\n    <cli>nooa goal &lt;subcommand&gt; [flags]</cli>\n    <sdk>await goal.run({ action: \"status\" })</sdk>\n    <tui>GoalPanel()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"goal\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"goal\" type=\"string\" />\n      <field name=\"message\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa goal set Ship it</input>\n      <output>Goal set</output>\n    </example>\n    <example>\n      <input>nooa goal status</input>\n      <output>Current goal</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"goal.missing_goal\">Goal text required.</error>\n    <error code=\"goal.invalid_command\">Unknown subcommand.</error>\n    <error code=\"goal.runtime_error\">Operation failed.</error>\n  </errors>\n</instruction>"
    },
    {
      "name": "cron",
      "version": "1.0.0",
      "description": "Manage recurring jobs",
      "agentDoc": "<instruction version=\"1.0.0\" name=\"cron\">\n  <purpose>Manage recurring jobs</purpose>\n  <usage>\n    <cli>nooa cron &lt;subcommand&gt; [args] [flags]</cli>\n    <sdk>await cron.run({ action: \"list\" })</sdk>\n    <tui>CronConsole()</tui>\n  </usage>\n  <contract>\n    <input>\n      <field name=\"action\" type=\"string\" required=\"true\" />\n      <field name=\"name\" type=\"string\" required=\"false\" />\n      <field name=\"json\" type=\"boolean\" required=\"false\" />\n      <field name=\"every\" type=\"string\" required=\"false\" />\n      <field name=\"description\" type=\"string\" required=\"false\" />\n      <field name=\"on-failure\" type=\"string\" required=\"false\" />\n      <field name=\"retry\" type=\"string\" required=\"false\" />\n      <field name=\"timeout\" type=\"string\" required=\"false\" />\n      <field name=\"start-at\" type=\"string\" required=\"false\" />\n      <field name=\"end-at\" type=\"string\" required=\"false\" />\n      <field name=\"max-runs\" type=\"string\" required=\"false\" />\n      <field name=\"schedule\" type=\"string\" required=\"false\" />\n      <field name=\"command\" type=\"string\" required=\"false\" />\n      <field name=\"limit\" type=\"string\" required=\"false\" />\n      <field name=\"since\" type=\"string\" required=\"false\" />\n      <field name=\"force\" type=\"boolean\" required=\"false\" />\n      <field name=\"daemon\" type=\"string\" required=\"false\" />\n      <field name=\"active\" type=\"boolean\" required=\"false\" />\n    </input>\n\n    <output>\n      <field name=\"mode\" type=\"string\" />\n      <field name=\"result\" type=\"string\" />\n      <field name=\"jobs\" type=\"string\" />\n      <field name=\"job\" type=\"string\" />\n      <field name=\"logs\" type=\"string\" />\n    </output>\n  </contract>\n  <exit-codes>\n    <code value=\"0\">Success</code>\n    <code value=\"1\">Runtime error</code>\n    <code value=\"2\">Validation error</code>\n  </exit-codes>\n  <examples>\n    <example>\n      <input>nooa cron list</input>\n      <output>List jobs</output>\n    </example>\n    <example>\n      <input>nooa cron add job --every 5m -- index repo</input>\n      <output>Add job</output>\n    </example>\n    <example>\n      <input>nooa cron remove job --force</input>\n      <output>Remove job</output>\n    </example>\n  </examples>\n  <errors>\n    <error code=\"cron.missing_action\">Missing subcommand.</error>\n    <error code=\"cron.missing_name\">Job name required.</error>\n    <error code=\"cron.missing_schedule\">Missing --every <schedule>.</error>\n    <error code=\"cron.missing_command\">Command required after --.</error>\n    <error code=\"cron.missing_update\">Provide schedule/command/description.</error>\n    <error code=\"cron.not_found\">Job not found.</error>\n    <error code=\"cron.force_required\">--force required.</error>\n    <error code=\"cron.runtime_error\">Unexpected error.</error>\n  </errors>\n</instruction>"
    }
  ]
}