bun test v1.3.6 (d530ed99)

index.nooa.test.ts:
(pass) nooa root > nooa --help shows root usage and subcommands [81.21ms]
(pass) nooa root > nooa --version prints 0.0.1 [77.91ms]
(pass) nooa root > package.json exposes nooa bin [0.25ms]

tests/contract.test.ts:
(pass) NOOA Contract Tests > Init Contract > should create .nooa directory and core files [9.70ms]
(pass) NOOA Contract Tests > Init Contract > should fail if .nooa already exists without --force [0.48ms]
(pass) NOOA Contract Tests > Init Contract > should succeed if .nooa already exists with --force [1.62ms]
(pass) NOOA Contract Tests > Prompt Injection Contract > should follow precedence: constitution -> soul -> user -> memory [1.38ms]
(pass) NOOA Contract Tests > Prompt Injection Contract > should truncate content when budgets are exceeded [0.79ms]
(pass) NOOA Contract Tests > Memory Contract > should generate valid YAML entries [43.28ms]
(pass) NOOA Contract Tests > Memory Contract > should promote entries to durable memory [16.32ms]
(pass) NOOA Contract Tests > Reflection Contract > should only reflect on material events [0.91ms]
(pass) NOOA Contract Tests > Reflection Contract > should reflect on material events [42.19ms]
(pass) NOOA Contract Tests > Reflection Contract > should cap reflections at 3 per session [94.37ms]
(pass) NOOA Contract Tests > Locking Contract > should prevent concurrent writes to memory [72.72ms]

tests/core/cohesion.test.ts:
(pass) Command Cohesion Contract > Command: prompt > prompt should support --help and return exit 0 [137.99ms]
(pass) Command Cohesion Contract > Command: prompt > prompt should NOT have logs in stdout when --json is used [223.21ms]
(pass) Command Cohesion Contract > Command: prompt > prompt should record telemetry success or failure [105.76ms]
(pass) Command Cohesion Contract > Command: review > review should support --help and return exit 0 [107.03ms]
(pass) Command Cohesion Contract > Command: review > review should NOT have logs in stdout when --json is used [222.62ms]
(pass) Command Cohesion Contract > Command: review > review should record telemetry success or failure [120.66ms]
(pass) Command Cohesion Contract > search should validate max-results and return exit 2 [107.57ms]

src/core/telemetry.test.ts:
(pass) TelemetryStore > tracks events in sqlite [1.97ms]
(pass) TelemetryStore > filters by level and trace_id [2.03ms]
(pass) TelemetryStore > reopens database if closed [1.60ms]

src/core/registry.test.ts:
(pass) CommandRegistry > registers and retrieves a command
(pass) CommandRegistry > lists registered commands

src/core/io.test.ts:
(pass) IO Utilities > runWithStdin provides mock constant content
(pass) IO Utilities > getStdinText returns empty string when TTY
(pass) IO Utilities > getStdinText reads from non-TTY stream async iterator [0.45ms]
(pass) IO Utilities > getStdinText handles async iterator error
(pass) IO Utilities > getStdinText handles stream events [1.30ms]
(pass) IO Utilities > getStdinText handles stream timeout [201.45ms]
(pass) IO Utilities > getStdinText handles stream error [1.37ms]

src/core/loader.test.ts:
no export
(pass) Command Loader > loads commands from directory [2.03ms]

src/core/logger.test.ts:
(pass) Logger > writes structured JSON with context [0.08ms]
(pass) Logger > debug level
(pass) Logger > warn level
(pass) Logger > error level [0.19ms]
(pass) Logger > AsyncLocalStorage context
(pass) Logger > getContext/clearContext without storage
(pass) Logger > createTraceId handles crypto and fallback
(pass) Logger > createLogger with functions and defaults

src/core/event-bus.test.ts:
(pass) EventBus > publishes events to subscribers
(pass) EventBus > unsubscribes from events
(pass) EventBus > handles off with non-existent event
(pass) EventBus > handles emit with no subscribers

tests/features/alias/cli.test.ts:
✅ Alias "deploy" saved
(pass) alias dispatches stored command [123.75ms]
✅ Alias "json-list" saved
(pass) alias appends invocation arguments [116.03ms]

src/core/memory/schema.test.ts:
(pass) Memory Schema > formatMemoryAsMarkdown produces valid YAML [0.15ms]
(pass) Memory Schema > parseMemoryFromMarkdown reverses format [0.11ms]
(pass) Memory Schema > parseMemoryFromMarkdown throws on invalid format [0.04ms]
(pass) Memory Schema > parseMemoryFromMarkdown handles missing content [0.08ms]

src/core/mcp/ConfigStore.test.ts:
(pass) ConfigStore can save and load MCP config [0.46ms]
(pass) ConfigStore can update existing MCP config [0.20ms]
(pass) ConfigStore can list all servers [0.21ms]
(pass) ConfigStore can delete a server [0.13ms]
(pass) ConfigStore returns undefined for non-existent server [0.07ms]

src/core/mcp/types.test.ts:
(pass) McpServer type is defined
(pass) McpTool type is defined
(pass) McpResource type is defined
(pass) McpPrompt type is defined

src/core/mcp/ServerManager.test.ts:
(pass) ServerManager can start a server [20.20ms]
(pass) ServerManager tracks running servers [18.53ms]
(pass) ServerManager can stop a specific server [19.48ms]
(pass) ServerManager can get running client [19.27ms]
(pass) ServerManager stops all servers on stopAll [37.12ms]

src/core/mcp/alias.test.ts:
(pass) aliases persist metadata and respect deletion [2.57ms]

src/core/mcp/Registry.test.ts:
(pass) Registry.healthCheck returns healthy status [22.17ms]
(pass) Registry.healthCheck marks disabled servers as down [1.56ms]

src/core/mcp/Client.test.ts:
(pass) callTool retries until transient failures resolve [3.68ms]
(pass) callTool throws after max retries [3.76ms]

src/core/mcp/ToolProvider.test.ts:
(pass) ToolProvider can get tools from enabled MCPs [20.39ms]
(pass) ToolProvider can execute a tool [21.24ms]
(pass) ToolProvider returns empty array for no enabled MCPs [0.26ms]

src/core/integrations/github.test.ts:
(pass) GitHubClient > requestJson handles success [0.11ms]
(pass) GitHubClient > requestJson handles API error with message
(pass) GitHubClient > requestJson handles API error without valid json [0.16ms]
(pass) GitHubClient > createPR sends correct body [0.05ms]
(pass) GitHubClient > getPRDiff returns text
(pass) GitHubClient > getPRDiff throws on failure
(pass) GitHubClient > mergePR uses correct method
(pass) GitHubClient > closePR sends closed state
(pass) GitHubClient > commentPR sends body
(pass) GitHubClient > getPRStatus aggregates info, approvals and checks [0.42ms]
(pass) GitHubClient > getPRStatus handles missing labels or sha

src/core/db/embeddings.test.ts:
(pass) Embeddings Schema > creates embeddings table [0.11ms]

src/core/db/index.test.ts:
(pass) Store Core > stats() returns valid counts [0.32ms]
(pass) Store Core > clear() removes all embeddings [0.41ms]
(pass) Store Core > searchEmbeddings returns matches sorted by similarity [0.26ms]
(pass) Store Core > cosineSimilarity handles zero vectors and dimension mismatch [0.13ms]

src/core/db/cron.test.ts:
(pass) Cron DB Schema > can create cron_jobs and cron_logs tables [0.20ms]

src/core/db/cron_store.test.ts:
(pass) CronStore > creates the cron_jobs table and persists jobs
(pass) CronStore > getByName returns the job when exists [0.48ms]
(pass) CronStore > delete and toggle jobs behave consistently [0.29ms]
(pass) CronStore > recordExecution logs runs and listLogs returns entries [0.19ms]

src/core/skills/Discovery.test.ts:
(pass) Discovery > lists available skills in directory [0.60ms]

src/core/policy/PolicyEngine.test.ts:
(pass) PolicyEngine > identifies forbidden markers [0.39ms]
(pass) PolicyEngine > respects nooa-ignore comment [0.35ms]
(pass) PolicyEngine > respects .nooa-ignore file [0.29ms]
(pass) PolicyEngine > ignores non-source files and tests [0.09ms]
(pass) PolicyEngine > checkFiles aggregates results [0.39ms]
(pass) PolicyEngine > handles file read errors gracefully [0.17ms]

src/core/reflection/hook.test.ts:
(pass) Auto Reflection Hook > autoReflect adds observable memory entry [0.58ms]
{"level":"warn","event":"memory.embedding_failed","timestamp":1770091440407,"metadata":{"error":"Embed provider returned no embedding"}}
(pass) Auto Reflection Hook > autoReflect skips excluded commands (e.g. reflection itself) [1.05ms]

src/features/commit/cli.test.ts:
(pass) nooa commit > shows help [113.41ms]
(pass) nooa commit > blocks TODO markers by default [215.28ms]
(pass) nooa commit > runs tests by default [252.18ms]

src/features/context/execute.test.ts:
(pass) Context Builder > extracts context for a given file [0.38ms]
(pass) Context Builder > falls back to symbol lookup when file not found [0.06ms]
(pass) Context Builder > throws error when symbol lookup fails
(pass) Context Builder > handles ripgrep error in symbol lookup [0.21ms]

src/features/context/cli.test.ts:
(pass) context CLI > outputs context for a file [188.12ms]
(pass) context CLI > includes MCP resources when requested [129.44ms]

src/features/memory/engine.test.ts:
(pass) MemoryEngine > addEntry creates daily file and stores embedding [1.16ms]
(pass) MemoryEngine > deleteEntry removes record from file [1.03ms]
(pass) MemoryEngine > updateEntry modifies existing record [1.06ms]
(pass) MemoryEngine > search semantic works [1.39ms]
{"level":"warn","event":"memory.embedding_failed","timestamp":1770091441317,"metadata":{"error":"Embed provider returned no embedding"}}
(pass) MemoryEngine > clearAll removes files [1.17ms]
(pass) MemoryEngine > promoteEntry moves to durable [0.81ms]
{"level":"warn","event":"memory.embedding_failed","timestamp":1770091441319,"metadata":{"error":"Embed provider returned no embedding"}}
(pass) MemoryEngine > import/export [0.87ms]
(pass) MemoryEngine > importData throws on invalid format [0.45ms]

src/features/identity/init.test.ts:
(pass) Identity Initialization > initIdentity creates necessary files [0.72ms]
(pass) Identity Initialization > initIdentity does not overwrite existing files by default [0.63ms]

src/features/embed/engine.test.ts:
(pass) embed engine > selects mock provider
(pass) embed engine > returns deterministic embedding from mock

src/features/embed/cli.test.ts:
(pass) nooa embed cli direct > shows help via execute [0.55ms]
(pass) nooa embed cli direct > embeds text success via execute [0.23ms]
(pass) nooa embed cli direct > embeds file success via execute [0.35ms]
(pass) nooa embed cli direct > fails on missing action via execute [0.16ms]
(pass) nooa embed cli direct > fails on missing text via execute [0.17ms]
(pass) nooa embed cli direct > fails on missing file path via execute [0.14ms]
(pass) nooa embed cli direct > fails on unknown action via execute [0.13ms]
(pass) nooa embed cli direct > respects --include-embedding flag via execute [0.16ms]
(pass) nooa embed cli direct > respects --out flag via execute [0.34ms]
(pass) nooa embed cli direct > handles general errors gracefully in execute [0.29ms]

src/features/chat/execute.test.ts:
(pass) executeMessage > returns message object with timestamp [0.58ms]
(pass) executeMessage > handles different roles [0.83ms]

src/features/chat/cli.test.ts:
(pass) nooa message > shows help [89.07ms]
(pass) nooa message > validation > requires message text [87.73ms]
(pass) nooa message > validation > validates role values [89.19ms]
(pass) nooa message > validation > accepts valid roles [257.59ms]
(pass) nooa message > integration > outputs plain text by default [89.15ms]
(pass) nooa message > integration > outputs JSON when --json flag is used [91.34ms]
(pass) nooa message > integration > respects role flag [90.56ms]

src/features/ignore/cli.test.ts:
(pass) nooa ignore > shows help with check and test [87.17ms]
(pass) nooa ignore > prints ignored result when path matches [90.18ms]
(pass) nooa ignore > prints not ignored result when path does not match [91.36ms]
(pass) nooa ignore > tests a new pattern against provided paths [93.86ms]
(pass) nooa ignore > fails when test pattern matches nothing [92.67ms]

src/features/ci/execute.test.ts:
(pass) executeCi > should return structured result with ok and traceId [159.79ms]

src/features/ci/cli.test.ts:
(pass) ci CLI > should show help [86.07ms]
(pass) ci CLI > should output JSON with correct schema [81.12ms]

src/features/doctor/execute.test.ts:
(pass) executeDoctorCheck > should check all required tools and return result [25.23ms]

src/features/doctor/cli.test.ts:
(pass) doctor CLI > should show help [82.70ms]
(pass) doctor CLI > should output JSON with correct schema [113.65ms]

src/features/read/cmd.test.ts:
(pass) Read Command Definition > exports valid command [0.64ms]
hello-read{"level":"info","event":"read.success","timestamp":1770091443134,"metadata":{"path":"telemetry-read.txt","bytes":10,"duration_ms":0}}
(pass) Read Command Definition > records telemetry on successful read [5.97ms]

src/features/read/execute.test.ts:
(pass) read command > help: displays help [0.30ms]
{"level":"warn","event":"read.missing_path","timestamp":1770091443141,"metadata":{"duration_ms":1}}
(pass) read command > failure: missing path and TTY [1.07ms]
{"level":"info","event":"read.success","timestamp":1770091443142,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/read/tmp-test-read/stdin_path.txt","bytes":13,"duration_ms":0}}
(pass) read command > success: read path from stdin [1.35ms]
{"level":"info","event":"read.success","timestamp":1770091443143,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/read/tmp-test-read/test.json","bytes":12,"duration_ms":1}}
(pass) read command > success: json output [0.72ms]
{"level":"error","event":"read.failure","timestamp":1770091443144,"metadata":{"path":"nonexistent.txt","duration_ms":0,"error_message":"ENOENT: no such file or directory, open 'nonexistent.txt'"}}
(pass) read command > error handling: file not found [0.60ms]
{"level":"error","event":"read.failure","timestamp":1770091443144,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/read/tmp-test-read","duration_ms":0,"error_message":"EISDIR: illegal operation on a directory, read"}}
(pass) read command > error handling: other error [0.48ms]

src/features/worktree/execute.test.ts:
(pass) worktree output > writes summary to stderr and keeps stdout empty [219.88ms]

src/features/worktree/cli.test.ts:
(pass) nooa worktree > shows help [87.80ms]
(pass) nooa worktree > creates a worktree under .worktrees/<branch> [229.15ms]
(pass) nooa worktree > respects --no-install and --no-test [217.08ms]
(pass) nooa worktree > installs deps and runs tests by default [240.16ms]
(pass) nooa worktree > lists worktrees with list subcommand [433.54ms]
(pass) nooa worktree > reports worktree info from info subcommand [325.66ms]
(pass) nooa worktree > removes worktree using remove subcommand [331.11ms]
(pass) nooa worktree > prunes worktrees via prune subcommand [157.83ms]
(pass) nooa worktree > locks and unlocks worktrees [454.52ms]

src/features/code/cli-patch.test.ts:
(pass) nooa code write --patch > --help includes patch flags [85.24ms]
(pass) nooa code write --patch > applies patch from stdin [83.85ms]

src/features/code/write.test.ts:
(pass) writeCodeFile > writes content when file does not exist [0.49ms]
(pass) writeCodeFile > fails when file exists without overwrite [0.16ms]
(pass) writeCodeFile > overwrites when overwrite is true [0.26ms]
(pass) writeCodeFile > dry-run does not write file [0.08ms]

src/features/code/refactor.test.ts:
(pass) Code Refactor Feature > executeRefactor reads, prompts AI, and writes back [1.15ms]

src/features/code/cmd.test.ts:
(pass) Code Command Definition > exports valid command [0.19ms]

src/features/code/format.test.ts:
(pass) Code Format Feature > executeFormat runs biome wrapper

src/features/code/cli-write.test.ts:
(pass) nooa code write > nooa code write --help shows usage [90.50ms]
(pass) nooa code write > writes from --from file [93.76ms]
(pass) nooa code write > fails if file exists without --overwrite [93.52ms]
(pass) nooa code write > supports --overwrite [89.74ms]
(pass) nooa code write > writes from stdin [93.69ms]
(pass) nooa code write > dry-run reports without writing [93.17ms]

src/features/code/patch.test.ts:
(pass) applyPatch > applies unified diff [0.08ms]

src/features/code/diff.test.ts:
(pass) Code Diff Feature > executeDiff returns diff output [0.03ms]
(pass) Code Diff Feature > executeDiff passes arguments to git diff [0.18ms]

src/features/code/execute.test.ts:
{"level":"warn","event":"code.write.missing_path","timestamp":1770091446576,"metadata":{"duration_ms":1}}
(pass) code command execute > write: failure - missing path [1.36ms]
{"level":"info","event":"code.write.success","timestamp":1770091446577,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/tmp-test-code/test.txt","bytes":11,"overwritten":false,"dry_run":false,"duration_ms":0}}
(pass) code command execute > write: success - basic write [0.77ms]
{"level":"warn","event":"code.write.missing_input","timestamp":1770091446780,"metadata":{"duration_ms":203}}
(pass) code command execute > write: failure - missing input [203.56ms]
{"level":"info","event":"code.write.success","timestamp":1770091446782,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/tmp-test-code/dry.txt","bytes":9,"overwritten":false,"dry_run":true,"duration_ms":0}}
(pass) code command execute > write: dry-run [1.72ms]
{"level":"info","event":"code.write.success","timestamp":1770091446783,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/tmp-test-code/test.json","bytes":12,"overwritten":false,"dry_run":false,"duration_ms":1}}
(pass) code command execute > write: json output [1.14ms]
{"level":"info","event":"code.patch.success","timestamp":1770091446784,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/tmp-test-code/to_patch.txt","bytes":16,"dry_run":false,"duration_ms":0}}
(pass) code command execute > patch: basic success [1.19ms]
{"level":"info","event":"code.patch.success","timestamp":1770091446785,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/tmp-test-code/to_patch_sub.txt","bytes":11,"dry_run":false,"duration_ms":0}}
(pass) code command execute > patch subcommand: implies patch mode [1.16ms]
(pass) code command execute > help: displays help and returns [0.23ms]
{"level":"warn","event":"code.patch.invalid_flags","timestamp":1770091446786,"metadata":{"duration_ms":0}}
(pass) code command execute > error handling: patch exclusive with from [0.74ms]
{"level":"warn","event":"code.patch.missing_input","timestamp":1770091446989,"metadata":{"duration_ms":202}}
(pass) code command execute > patch: missing input error [203.28ms]
{"level":"info","event":"code.patch.success","timestamp":1770091446992,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/tmp-test-code/to_patch_json.txt","bytes":9,"dry_run":false,"duration_ms":0}}
(pass) code command execute > patch: json output [2.73ms]
{"level":"info","event":"code.write.success","timestamp":1770091446994,"metadata":{"path":"/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/tmp-test-code/stdin_out.txt","bytes":13,"overwritten":false,"dry_run":false,"duration_ms":0}}
(pass) code command execute > write: from stdin [1.59ms]
{"level":"error","event":"code.write.failure","timestamp":1770091446995,"metadata":{"duration_ms":1,"error_message":"File already exists: /Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/tmp-test-code","error_stack":"Error: File already exists: /Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/tmp-test-code\n    at writeCodeFile (/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/write.ts:30:13)\n    at async <anonymous> (/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/cli.ts:231:27)\n    at async <anonymous> (/Users/thiagobutignon/dev/nooa-the-pragmatic/.worktrees/fix-tests-100/src/features/code/execute.test.ts:324:21)\n    at processTicksAndRejections (native:7:39)"}}
(pass) code command execute > error handling: unexpected error [1.28ms]
(pass) code command execute > unknown action: displays help [0.21ms]

src/features/mcp/configure.test.ts:
(pass) configure merges env from --env-file [5.83ms]
(pass) configure picks up .mcp.env when present [2.80ms]
(pass) configure honors global -> root -> explicit env files [4.57ms]

src/features/mcp/init.test.ts:
(pass) nooa mcp init installs recommended MCPs [3.56ms]
(pass) nooa mcp init respects --skip-github [1.39ms]
(pass) nooa mcp init --github-token configures GitHub env [2.15ms]
(pass) interactive wizard prompts for GitHub token [2.01ms]

src/features/mcp/install.test.ts:
(pass) nooa mcp install registers an MCP [2.98ms]
(pass) nooa mcp info prints saved MCP metadata [1.93ms]
(pass) nooa mcp configure updates settings [1.93ms]

src/features/mcp/subcommands.test.ts:
(pass) list command shows help [0.48ms]
(pass) install command shows help
(pass) install command requires package name
(pass) enable command shows help
(pass) enable command requires MCP name
(pass) disable command shows help
(pass) disable command requires MCP name

src/features/mcp/uninstall.test.ts:
(pass) nooa mcp uninstall removes an entry [3.10ms]

src/features/mcp/alias.test.ts:
(pass) alias create/list/delete flow [2.25ms]
(pass) list shows json output when --json [1.54ms]

src/features/mcp/test.test.ts:
(pass) nooa mcp test checks server health [25.99ms]

src/features/mcp/marketplace.test.ts:
(pass) marketing command prints results [0.41ms]
(pass) marketplace supports verified-only filter [0.08ms]
(pass) marketplace emits JSON output [0.03ms]

src/features/mcp/enable-disable.test.ts:
(pass) nooa mcp enable toggles a disabled MCP [2.55ms]
(pass) nooa mcp disable turns off an enabled MCP [1.70ms]

src/features/mcp/call.test.ts:
(pass) nooa mcp call executes an MCP tool [22.68ms]
(pass) nooa mcp call accepts retry/backoff flags [21.77ms]

src/features/mcp/resource.test.ts:
(pass) nooa mcp resource reads a resource URI [20.87ms]

src/features/mcp/cli.test.ts:
(pass) MCP CLI shows help [0.29ms]
(pass) MCP CLI requires subcommand
(pass) MCP CLI rejects unknown subcommand
(pass) MCP CLI object execute method

src/features/mcp/list.test.ts:
(pass) nooa mcp list --installed includes every MCP [2.81ms]
(pass) nooa mcp list --enabled shows enabled MCPs only [1.87ms]

src/features/mcp/health.test.ts:
(pass) nooa mcp health prints error when name missing [0.68ms]
(pass) nooa mcp health returns healthy status text [20.99ms]
(pass) nooa mcp health --json returns structured status [20.62ms]

src/features/search/engine.test.ts:
(pass) runSearch engine > detects rg availability [0.85ms]
(pass) runSearch engine > handles empty results [10.03ms]
(pass) runSearch engine > returns matches with metadata [7.22ms]
(pass) runSearch engine > respects maxResults limit [9.37ms]
(pass) runSearch engine > handles regex patterns [8.73ms]
(pass) runSearch engine > applies include/exclude patterns [8.08ms]

src/features/search/cli.test.ts:
(pass) nooa search > shows help [84.86ms]
(pass) nooa search > outputs JSON format [82.29ms]
(pass) nooa search > outputs plain format [85.54ms]
(pass) nooa search > lists files only [86.98ms]
(pass) nooa search > records telemetry [91.66ms]

src/features/pr/gh.test.ts:
(pass) GitHub Automation (gh.ts) > ghPrCreate success [0.19ms]
(pass) GitHub Automation (gh.ts) > ghPrCreate failure
(pass) GitHub Automation (gh.ts) > ghPrList [0.16ms]
(pass) GitHub Automation (gh.ts) > ghPrDiff [0.01ms]
(pass) GitHub Automation (gh.ts) > ghMergePr (squash)
(pass) GitHub Automation (gh.ts) > ghMergePr (rebase)
(pass) GitHub Automation (gh.ts) > ghMergePr (merge) [0.20ms]
(pass) GitHub Automation (gh.ts) > ghClosePr [0.01ms]
(pass) GitHub Automation (gh.ts) > ghCommentPr
(pass) GitHub Automation (gh.ts) > ghStatusPr

src/features/pr/cli.test.ts:
(pass) nooa pr > pr --help shows usage [83.60ms]
(pass) nooa pr > merge requires pr number [79.86ms]
(pass) nooa pr > close requires pr number [81.87ms]
(pass) nooa pr > comment requires pr number [83.41ms]
(pass) nooa pr > status requires pr number [78.51ms]
(pass) nooa pr > merge uses gh and validates pr number [80.98ms]
(pass) nooa pr > status uses gh and validates pr number [82.34ms]

src/features/push/cli.test.ts:
(pass) nooa push > shows help [78.23ms]
(pass) nooa push > fails when working tree is dirty [130.91ms]
(pass) nooa push > pushes to remote [224.85ms]

src/features/guardrail/schemas.test.ts:
(pass) Guardrail Schemas > PatternSchema > should validate a literal pattern [1.53ms]
(pass) Guardrail Schemas > PatternSchema > should validate a regex pattern
(pass) Guardrail Schemas > PatternSchema > should default type to literal
(pass) Guardrail Schemas > PatternSchema > should reject invalid type [0.40ms]
(pass) Guardrail Schemas > PatternSpecSchema > should validate anyOf patterns [0.14ms]
(pass) Guardrail Schemas > PatternSpecSchema > should validate allOf patterns
(pass) Guardrail Schemas > PatternSpecSchema > should accept empty spec
(pass) Guardrail Schemas > RefactorRuleSchema > should validate a complete rule [0.34ms]
(pass) Guardrail Schemas > RefactorRuleSchema > should reject rule without id [0.10ms]
(pass) Guardrail Schemas > RefactorRuleSchema > should default severity to medium [0.03ms]
(pass) Guardrail Schemas > RefactorProfileSchema > should validate a complete profile [0.30ms]
(pass) Guardrail Schemas > RefactorProfileSchema > should reject profile without name [0.03ms]
(pass) Guardrail Schemas > RefactorProfileSchema > should reject profile without rules [0.06ms]

src/features/guardrail/engine.test.ts:
(pass) GuardrailEngine > evaluate > should find TODO patterns in files [16.32ms]
(pass) GuardrailEngine > evaluate > should respect scope.exclude patterns [17.38ms]
(pass) GuardrailEngine > evaluate > should return findings with correct structure [15.35ms]
(pass) GuardrailEngine > evaluate > requires all patterns in allOf within same file [22.70ms]
fatal: not a git repository (or any of the parent directories): .git
(pass) GuardrailEngine > evaluate > falls back to scanning files when not a git repo [13.73ms]
(pass) GuardrailEngine > determinism > should produce identical findings on repeated runs [53.94ms]
(pass) GuardrailEngine > determinism > should return findings sorted by rule, file, line [23.12ms]

src/features/guardrail/builtin-rules.test.ts:
(pass) Built-in Profiles > Profile Loading > should load zero-preguica profile [7.14ms]
(pass) Built-in Profiles > Profile Loading > should load security profile [4.77ms]
(pass) Built-in Profiles > Profile Loading > should load dangerous-patterns profile [1.34ms]
(pass) Built-in Profiles > Zero-Preguiça Detection > should detect TODO violations [48.15ms]
(pass) Built-in Profiles > Zero-Preguiça Detection > should detect FIXME violations [43.56ms]
(pass) Built-in Profiles > Security Detection > should detect hardcoded secrets [345.06ms]
(pass) Built-in Profiles > Security Detection > should detect eval usage [342.86ms]

src/features/guardrail/profiles.test.ts:
(pass) Profile Loader > loadProfile > should load a valid NOOA-style profile [0.86ms]
(pass) Profile Loader > loadProfile > should throw on invalid YAML [0.46ms]
(pass) Profile Loader > loadProfile > should throw on non-existent file [0.08ms]
(pass) Profile Loader > validateProfile > should return valid: true for valid profile [1.38ms]
(pass) Profile Loader > validateProfile > should return valid: false with errors for invalid profile [0.47ms]
(pass) Profile Loader > normalizeToNooaFormat (Auditor compatibility) > should normalize Auditor-style identifiers to NOOA patterns [0.03ms]
(pass) Profile Loader > normalizeToNooaFormat (Auditor compatibility) > should pass through NOOA-style patterns unchanged
(pass) Profile Loader > normalizeToNooaFormat (Auditor compatibility) > should return empty spec for empty input

src/features/guardrail/anarchy-regression.test.ts:
(pass) Anarchy Baseline Profile > should load anarchy-baseline profile successfully [0.99ms]
(pass) Anarchy Baseline Profile > should validate anarchy-baseline profile schema [0.65ms]
(pass) Anarchy Baseline Profile > should have secret detection rules [0.97ms]
(pass) Anarchy Baseline Profile > should have dependency risk rules [1.01ms]
(pass) Anarchy Baseline Profile > should have test quality rules [0.71ms]

src/features/guardrail/cli.test.ts:
(pass) Guardrail CLI > help > should show help with -h flag [0.13ms]
(pass) Guardrail CLI > help > should show help with --help flag
(pass) Guardrail CLI > help > should include list/show/spec commands in help [0.13ms]
(pass) Guardrail CLI > validate subcommand > should validate a valid profile [0.30ms]
(pass) Guardrail CLI > validate subcommand > should report errors for invalid profile path [0.07ms]
(pass) Guardrail CLI > init subcommand > should create guardrails directory structure [0.83ms]
(pass) Guardrail CLI > check subcommand > should check files with profile [45.98ms]
(pass) Guardrail CLI > check subcommand > should output JSON with --json flag [18.74ms]
(pass) Guardrail CLI > spec thresholds and exclusions > applies thresholds and exclusions from GUARDRAIL.md [78.65ms]
(pass) Guardrail CLI > profile management commands > lists available profiles [1.71ms]
(pass) Guardrail CLI > profile management commands > shows normalized profile output [4.40ms]
(pass) Guardrail CLI > profile management commands > adds and removes a profile [1.99ms]
(pass) Guardrail CLI > spec commands > validates GUARDRAIL.md and referenced profiles [2.74ms]
(pass) Guardrail CLI > spec commands > shows spec summary [0.67ms]
(pass) Guardrail CLI > spec commands > initializes GUARDRAIL.md when missing [1.83ms]

src/features/guardrail/contracts.test.ts:
(pass) Guardrail Contracts > Severity > should have correct severity levels [0.03ms]
(pass) Guardrail Contracts > Severity > should have 5 severity levels [0.05ms]
(pass) Guardrail Contracts > Confidence > should have correct confidence levels [0.03ms]
(pass) Guardrail Contracts > Confidence > should have 3 confidence levels
(pass) Guardrail Contracts > Finding interface > should accept a valid finding [0.04ms]
(pass) Guardrail Contracts > Finding interface > should accept optional trace field
(pass) Guardrail Contracts > GuardrailReport interface > should accept a valid report [0.04ms]
(pass) Guardrail Contracts > GuardrailReport interface > should have correct status values

src/features/guardrail/spec.test.ts:
(pass) Spec Parser > parseGuardrailSpec > should return defaults when no spec file exists
(pass) Spec Parser > parseGuardrailSpec > should parse profiles from spec [0.36ms]
(pass) Spec Parser > parseGuardrailSpec > should parse thresholds from spec [0.22ms]
(pass) Spec Parser > parseGuardrailSpec > should parse custom rules from spec [0.15ms]
(pass) Spec Parser > parseGuardrailSpec > should parse exclusions from spec [0.52ms]
(pass) Spec Parser > parseGuardrailSpec > parses custom rules without require() [0.21ms]
(pass) Spec Parser > parseGuardrailSpec > does not rely on require() for yaml parsing [0.24ms]
(pass) Spec Parser > buildProfileFromSpec > should build combined profile from spec [0.66ms]

src/features/prompt/service.test.ts:
(pass) createPrompt writes a new prompt file with frontmatter and body [3.16ms]
(pass) editPrompt applies a unified diff patch to a prompt file [1.26ms]
(pass) deletePrompt removes a prompt file [0.96ms]
(pass) publishPrompt bumps version and appends to changelog [3.15ms]

src/features/prompt/cli.test.ts:
(pass) nooa prompt --help lists new subcommands [85.91ms]
(pass) nooa prompt create writes a new prompt [91.79ms]
(pass) nooa prompt edit applies patch from stdin [97.02ms]
(pass) nooa prompt delete removes prompt file [90.35ms]
(pass) nooa prompt publish bumps version and updates changelog [92.83ms]

src/features/ai/engine.test.ts:
(pass) AiEngine > complete() > registers and uses a provider [0.13ms]
(pass) AiEngine > complete() > throws error for missing provider
{"level":"warn","event":"AI request failed (attempt 1/4), retrying in 174ms","timestamp":1770091450528,"metadata":{"error":"Transient failure"}}
{"level":"warn","event":"AI request failed (attempt 2/4), retrying in 132ms","timestamp":1770091450702,"metadata":{"error":"Transient failure"}}
(pass) AiEngine > complete() > retries on failure [306.51ms]
{"level":"warn","event":"Primary provider primary completed failed, falling back to secondary","timestamp":1770091450834,"metadata":{"error":"Transient failure"}}
(pass) AiEngine > complete() > falls back to secondary provider
{"level":"warn","event":"Primary provider primary completed failed, falling back to secondary","timestamp":1770091450835,"metadata":{"error":"Transient failure"}}
(pass) AiEngine > complete() > rethrows error if fallback fails [0.55ms]
(pass) AiEngine > embed() > uses provider for embedding [0.21ms]
(pass) AiEngine > embed() > throws error for missing provider in embed [0.02ms]
{"level":"warn","event":"AI request failed (attempt 1/3), retrying in 129ms","timestamp":1770091450835,"metadata":{"error":"Embed failure"}}
(pass) AiEngine > embed() > retries on embed failure [130.12ms]
{"level":"warn","event":"Primary provider p1 embed failed, falling back to p2","timestamp":1770091450965,"metadata":{"error":"Embed failure"}}
(pass) AiEngine > embed() > falls back in embed [0.31ms]

src/features/ai/cli.test.ts:
(pass) nooa ai can invoke an MCP tool [93.24ms]

src/features/review/discovery.test.ts:
(pass) Test Discovery heuristic > finds test in same directory [64.67ms]
(pass) Test Discovery heuristic > finds test in root tests/ directory [62.96ms]
(pass) Test Discovery heuristic > returns empty array if no test found [63.76ms]

src/features/review/execute.test.ts:
(pass) executeReview > normalizes 'maintainability' category to 'arch' [14.19ms]
(pass) executeReview > defaults null file to input_path [13.33ms]

src/features/fix/execute.test.ts:
(pass) executeFix > should track telemetry and return ok in dry run [0.75ms]
(pass) executeFix > should carry out full fix loop (Stage 1-5) [0.54ms]
(pass) executeFix > should handle failures in stages [0.12ms]
(pass) executeFix > should handle error when goal or search fails [10.72ms]

src/features/fix/cli.test.ts:
(pass) fix CLI > should show help [85.81ms]
(pass) fix CLI > should output JSON [83.16ms]

src/features/index/index.test.ts:
(pass) Index Feature Execution > clearIndex calls store.clear [0.16ms]
(pass) Index Feature Execution > getIndexStats calls store.stats [0.06ms]
(pass) Index Feature Execution > indexRepo recursively lists and indexes files [0.39ms]
(pass) Index Feature Execution > executeSearch embeds query and searches store [0.04ms]
(pass) Index Feature Execution > rebuildIndex calls clear and indexRepo
(pass) Index Feature Execution > chunking logic with large text

src/features/skills/manager.test.ts:
(pass) SkillManager > createSkill creates directory and main file [1.12ms]
(pass) SkillManager > listSkills returns all skills [1.17ms]
(pass) SkillManager > deleteSkill removes directory [0.36ms]
(pass) SkillManager > enable/disable skill [0.42ms]
(pass) SkillManager > updateSkill verifies existence [0.38ms]
(pass) SkillManager > showSkill handles frontmatter correctly [0.51ms]
(pass) SkillManager > parseFrontmatter edge cases [0.19ms]
(pass) SkillManager > listSkills handles empty root [0.24ms]

src/features/skills/cli.test.ts:
Current skills:
  - s1 (enabled): d1
(pass) Skills CLI > list subcommand [0.53ms]
Current skills:
  (none)
(pass) Skills CLI > list subcommand empty
Skill 'new-skill' created.
(pass) Skills CLI > add subcommand
Error: Skill name required.
(pass) Skills CLI > add subcommand error on missing name [0.17ms]
Skill 'old-skill' removed.
(pass) Skills CLI > remove subcommand
Error: Skill name required.
(pass) Skills CLI > remove subcommand error on missing name [0.07ms]
Skill 's1' enabled.
(pass) Skills CLI > enable subcommand
Error: Skill name required.
(pass) Skills CLI > enable subcommand error on missing name [0.06ms]
Skill 's1' disabled.
(pass) Skills CLI > disable subcommand
Error: Skill name required.
(pass) Skills CLI > disable subcommand error on missing name [0.05ms]
Name: test
Description: desc

Content:

content
(pass) Skills CLI > show subcommand [0.04ms]
Error: Skill name required.
(pass) Skills CLI > show subcommand error on missing name [0.03ms]
Skill 's1' updated successfully.
(pass) Skills CLI > update subcommand [0.04ms]
Error: Skill name required.
(pass) Skills CLI > update subcommand error on missing name [0.03ms]
(pass) Skills CLI > help output [0.03ms]

src/features/eval/cli.test.ts:
(pass) nooa eval CLI extensions > help lists report/history/compare [84.55ms]
(pass) nooa eval CLI extensions > history prints matching entries [84.99ms]
(pass) nooa eval CLI extensions > report returns the latest entry [81.93ms]
(pass) nooa eval CLI extensions > compare shows score delta between entries [83.12ms]

src/features/run/parser.test.ts:
(pass) pipeline parser > delimiter mode > splits by -- [0.54ms]
(pass) pipeline parser > delimiter mode > unescapes \-- in delimiter mode
(pass) pipeline parser > delimiter mode > handles internal vs external [0.02ms]
(pass) pipeline parser > string mode > parses quoted strings [0.28ms]
(pass) pipeline parser > string mode > unescapes \-- in string mode
(pass) pipeline parser > string mode > detects exec prefix [0.01ms]

src/features/goal/execute.test.ts:
(pass) Goal Manager > can set and get goal [1.00ms]

src/features/goal/cli.test.ts:
(pass) Goal CLI > goal --help shows usage [81.90ms]
(pass) Goal CLI > goal status --json outputs structured data [88.00ms]

src/features/cron/cli.test.ts:
(pass) nooa cron CLI > shows help output [90.82ms]
(pass) nooa cron CLI > add and lists jobs [171.91ms]
(pass) nooa cron CLI > list --json returns structured data [168.58ms]
(pass) nooa cron CLI > status, run, logs, and history work end-to-end [422.99ms]
(pass) nooa cron CLI > edit and remove commands enforce force and updates [423.67ms]

src/features/ai/providers/openai.test.ts:
(pass) OpenAiProvider > complete() sends correct request [0.02ms]
(pass) OpenAiProvider > complete() throws on missing API key
(pass) OpenAiProvider > complete() throws on non-ok response
(pass) OpenAiProvider > complete() throws when no choices returned
(pass) OpenAiProvider > embed() sends correct request [0.46ms]

src/features/ai/providers/ollama.test.ts:
(pass) OllamaProvider > complete() sends correct request [0.16ms]
(pass) OllamaProvider > complete() throws on error [0.03ms]
(pass) OllamaProvider > embed() sends correct request [0.03ms]
(pass) OllamaProvider > embed() throws on error [0.09ms]

src/features/eval/scorers/deterministic.test.ts:
(pass) DeterministicScorer > passes valid JSON check [0.12ms]
(pass) DeterministicScorer > extracts JSON from markdown
(pass) DeterministicScorer > handles invalid JSON [0.23ms]
(pass) DeterministicScorer > skips checks if no valid JSON parsed [0.02ms]
(pass) DeterministicScorer > verifies properties
(pass) DeterministicScorer > checks enums on arrays [0.10ms]
(pass) DeterministicScorer > fails on invalid enum value [0.03ms]
(pass) DeterministicScorer > detects absolute paths [0.03ms]
(pass) DeterministicScorer > verifies max_count
(pass) DeterministicScorer > verifies max_count success
(pass) DeterministicScorer > verifies property_equals
(pass) DeterministicScorer > handles missing property or limit for max_count
(pass) DeterministicScorer > handles missing property for property_equals
(pass) DeterministicScorer > handles edge cases in getValues
(pass) DeterministicScorer > handles general errors during check [0.07ms]
--------------------------------------------|---------|---------|-------------------
File                                        | % Funcs | % Lines | Uncovered Line #s
--------------------------------------------|---------|---------|-------------------
All files                                   |   94.97 |   94.18 |
 src/core/db/cron_store.ts                  |  100.00 |  100.00 | 
 src/core/db/index.ts                       |  100.00 |  100.00 | 
 src/core/db/schema/cron.ts                 |  100.00 |  100.00 | 
 src/core/db/schema/cron_jobs.ts            |  100.00 |   75.86 | 51-53,55-58
 src/core/db/schema/cron_logs.ts            |  100.00 |  100.00 | 
 src/core/db/schema/embeddings.ts           |  100.00 |  100.00 | 
 src/core/db/schema/mcp_aliases.ts          |  100.00 |  100.00 | 
 src/core/db/schema/mcp_servers.ts          |  100.00 |  100.00 | 
 src/core/event-bus.ts                      |   75.00 |  100.00 | 
 src/core/integrations/github.ts            |  100.00 |  100.00 | 
 src/core/io.ts                             |  100.00 |   96.72 | 79-80
 src/core/logger.ts                         |  100.00 |  100.00 | 
 src/core/mcp/Client.ts                     |   90.48 |   90.60 | 141-147,182-185
 src/core/mcp/ConfigStore.ts                |  100.00 |  100.00 | 
 src/core/mcp/Registry.ts                   |  100.00 |  100.00 | 
 src/core/mcp/ServerManager.ts              |   81.82 |   91.67 | 49-51
 src/core/mcp/ToolProvider.ts               |  100.00 |  100.00 | 
 src/core/mcp/alias.ts                      |  100.00 |  100.00 | 
 src/core/mcp/db.ts                         |  100.00 |  100.00 | 
 src/core/memory/schema.ts                  |  100.00 |  100.00 | 
 src/core/policy/PolicyEngine.ts            |  100.00 |  100.00 | 
 src/core/reflection/hook.ts                |  100.00 |   93.55 | 20-21
 src/core/registry.ts                       |   85.71 |  100.00 | 
 src/core/skills/Discovery.ts               |  100.00 |  100.00 | 
 src/core/telemetry.ts                      |  100.00 |  100.00 | 
 src/features/ai/engine.ts                  |   92.31 |  100.00 | 
 src/features/ai/providers/mock.ts          |   85.71 |  100.00 | 
 src/features/ai/providers/mod.ts           |  100.00 |  100.00 | 
 src/features/ai/providers/ollama.ts        |   80.00 |  100.00 | 
 src/features/ai/providers/openai.ts        |   83.33 |  100.00 | 
 src/features/chat/execute.ts               |   66.67 |   83.33 | 33-37
 src/features/ci/execute.ts                 |  100.00 |   86.60 | 29-36,47-51
 src/features/code/cli.ts                   |  100.00 |   91.56 | 78-82,86-95,99-109
 src/features/code/diff.ts                  |  100.00 |  100.00 | 
 src/features/code/format.ts                |  100.00 |  100.00 | 
 src/features/code/patch.ts                 |  100.00 |   96.92 | 20
 src/features/code/refactor.ts              |  100.00 |  100.00 | 
 src/features/code/write.ts                 |  100.00 |  100.00 | 
 src/features/context/execute.ts            |  100.00 |  100.00 | 
 src/features/doctor/execute.ts             |  100.00 |   96.15 | 26
 src/features/embed/cli.ts                  |  100.00 |  100.00 | 
 src/features/embed/engine.ts               |  100.00 |   97.62 | 
 src/features/eval/scorers/deterministic.ts |   85.71 |  100.00 | 
 src/features/fix/execute.ts                |  100.00 |  100.00 | 
 src/features/goal/execute.ts               |   80.00 |   73.08 | 30-36
 src/features/guardrail/builtin.ts          |   75.00 |   90.91 | 
 src/features/guardrail/cli.ts              |   95.83 |   84.23 | 107-108,120-122,147-149,161-162,184,188-189,196-198,267-268,285-286,293-295,305-306,321-322,362-363,370-372,382,388-392,396-397,404-406,428-429,436-438,441-443,450-451,538-540
 src/features/guardrail/contracts.ts        |  100.00 |  100.00 | 
 src/features/guardrail/engine.ts           |   94.12 |  100.00 | 
 src/features/guardrail/profiles.ts         |  100.00 |   86.21 | 33,56,103-105,110-112
 src/features/guardrail/schemas.ts          |  100.00 |  100.00 | 
 src/features/guardrail/spec.ts             |  100.00 |   98.23 | 97-98
 src/features/identity/init.ts              |  100.00 |  100.00 | 
 src/features/identity/templates.ts         |  100.00 |  100.00 | 
 src/features/index/execute.ts              |  100.00 |  100.00 | 
 src/features/init/execute.ts               |  100.00 |  100.00 | 
 src/features/mcp/alias.ts                  |  100.00 |   83.56 | 21,31-32,46-47,50-51,66,79-80,85
 src/features/mcp/call.ts                   |  100.00 |   88.61 | 34,46-47,54-55,76-77,99-100
 src/features/mcp/cli.ts                    |  100.00 |   36.78 | 50-53,55-58,60-63,65-68,70-73,75-78,80-83,85-88,90-93,95-98,100-103,105-108,110-113,115-117
 src/features/mcp/configure.ts              |  100.00 |   90.43 | 31,43-44,49-50,54-55,63-64
 src/features/mcp/disable.ts                |  100.00 |   94.29 | 38-39
 src/features/mcp/enable.ts                 |  100.00 |   94.29 | 38-39
 src/features/mcp/health.ts                 |  100.00 |   88.00 | 17,24-25,50-51
 src/features/mcp/helpers.ts                |  100.00 |   94.29 | 49,78,88-89
 src/features/mcp/info.ts                   |  100.00 |   65.22 | 17,25-26,31-32,40-41,46-54
 src/features/mcp/init.ts                   |   90.00 |   92.16 | 26,91,99-100,126-127,169-170,174,182,194-195
 src/features/mcp/install.ts                |  100.00 |   93.33 | 62-65
 src/features/mcp/list.ts                   |  100.00 |   71.74 | 40-52
 src/features/mcp/marketplace.ts            |  100.00 |   83.67 | 19-20,50,57,79,87-88,98,116-117,126-131
 src/features/mcp/resource.ts               |  100.00 |   80.00 | 18,26-27,33-34,43-44,55,60-61
 src/features/mcp/test-utils.ts             |  100.00 |  100.00 | 
 src/features/mcp/test.ts                   |  100.00 |   79.59 | 18,25-26,31-32,41-42,53,58-59
 src/features/mcp/uninstall.ts              |  100.00 |   79.49 | 17,24-25,30-31,39-40
 src/features/memory/engine.ts              |   96.55 |   97.20 | 221-226
 src/features/memory/reflect.ts             |  100.00 |  100.00 | 
 src/features/memory/summarize.ts           |  100.00 |   98.36 | 
 src/features/pr/gh.ts                      |  100.00 |  100.00 | 
 src/features/prompt/engine.ts              |   90.91 |   80.61 | 22-40
 src/features/prompt/injection.ts           |  100.00 |  100.00 | 
 src/features/prompt/service.ts             |  100.00 |   72.04 | 76-80,125,127-132,134-147
 src/features/read/cli.ts                   |  100.00 |  100.00 | 
 src/features/review/discovery.ts           |  100.00 |   97.37 | 
 src/features/review/execute.ts             |  100.00 |   88.39 | 62-63,67-69,71-72,77-80,84,98,177-180
 src/features/run/parser.ts                 |  100.00 |  100.00 | 
 src/features/search/engine.ts              |   93.75 |   81.98 | 52-54,74-75,88-89,93-98,114,140,178,182-186,196-199,229,237,253-255,259-260,277-283
 src/features/skills/cli.ts                 |  100.00 |  100.00 | 
 src/features/skills/manager.ts             |   94.74 |  100.00 | 
 src/features/skills/templates.ts           |  100.00 |  100.00 | 
 src/test-utils/cli-env.ts                  |  100.00 |  100.00 | 
 tmp_features/bar/cli.ts                    |    0.00 |  100.00 | 
 tmp_features/baz/cli.ts                    |  100.00 |  100.00 | 
 tmp_features/foo/cli.ts                    |    0.00 |  100.00 | 
--------------------------------------------|---------|---------|-------------------

 446 pass
 0 fail
 943 expect() calls
Ran 446 tests across 99 files. [15.11s]
